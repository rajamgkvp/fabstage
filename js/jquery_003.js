/**
 * jquery.freshline.portfolio - jQuery Plugin for portfolio gallery
 * @version: 1.5 (16.12.12)
 * @requires jQuery v1.4 or later
 * @author themepunch
 * All Rights Reserved, use only in freshline Templates or when Plugin bought at Envato !
**/




(function(e,t){function n(e){var t=[],n;var r=window.location.href.slice(window.location.href.indexOf(e)+1).split("_");for(var i=0;i<r.length;i++){r[i]=r[i].replace("%3D","=");n=r[i].split("=");t.push(n[0]);t[n[0]]=n[1]}return t}function r(t,r){var i=[];t.find(">div").each(function(){var t=e(this);i.push(t)});t.data("all",i);e("body").find(r.filterList+" ul li").each(function(n){var i=e(this);if(n==0)i.addClass("selected-filter-item");i.data("filterid",n);var s=[];t.find("."+i.data("category")).each(function(){var t=e(this);s.push(t.clone())});i.data("list",s);i.click(function(){var n=e(this);n.closest("ul").find(">li").each(function(){var t=e(this);t.removeClass("selected-filter-item")});n.addClass("selected-filter-item");u(t,n.data("list"),1,r);e("body").find(r.title).cssAnimate({opacity:"0.0"},{duration:500,queue:false});setTimeout(function(){e("body").find(r.backgroundHolder).tpbackground({slideshow:r.backgroundSlideshow,callback:"true",cat:n.data("category")});e("body").find(r.title).html(n.html());e("body").find(r.title).cssAnimate({opacity:"1.0"},{duration:500,queue:false})},500)})});var s=n(r.urlDivider)["filter"];var a=n(r.urlDivider)["id"];r.selectedid=a;if(s!=null){e("body").find(r.filterList+" ul li").each(function(){var t=e(this);if(t.index()==decodeURI(s)){e("body").find(r.filterList).find(".selected-filter-item").removeClass("selected-filter-item");t.addClass("selected-filter-item")}})}e("body").find(r.filterList).find(".selected-filter-item").click();if(a!=null){setTimeout(function(){var t=e("body").find(".buttonlight-selected").data("list")[parseInt(a,0)-1].clone();t.data("EntryNr",parseInt(a,0));e("body").append(t);t.attr("id","notimportant");t.css({display:"none"});o(t,r);e("body").find("#notimportant .hover-more-sign").click()},500)}}function i(e){var t=e.data("mainthumb");var n=e.data("bwthumb");if(!e.find("img").hasClass("bw-thumbnail-yoyo"))e.append('<img class="bw-thumbnail-yoyo" src="'+n+'">');if(!e.find("img").hasClass("normal-thumbnail-yoyo"))e.append('<img class="normal-thumbnail-yoyo" src="'+t+'">')}function s(n){var r=null;var i=null;if(n.find(".entry-info").length>0){if(!n.find("div").hasClass("hover-more-sign"))n.append('<div class="hover-more-sign"></div>');r=n.find(".hover-more-sign")}if(n.find(".blog-link").length>0){var s=n.find(".blog-link");s.removeClass(".blog-link");s.addClass("hover-blog-link-sign");if(!n.find("div").hasClass("hover-blog-link-sign"))n.append(s);i=n.find(".hover-blog-link-sign")}if(r!=null&&i==null){r.css({left:parseInt(n.width()/2,0)-25+"px",top:parseInt(n.height()/2,0)+60+"px",display:"none",opacity:"0.0"})}else{if(r==null&&i!=null){i.css({left:parseInt(n.width()/2,0)-25+"px",top:parseInt(n.height()/2,0)+60+"px",display:"none",opacity:"0.0"})}else{r.css({left:parseInt(n.width()/2,0)-50+"px",top:parseInt(n.height()/2,0)+60+"px",display:"none",opacity:"0.0"});i.css({left:parseInt(n.width()/2,0)+10+"px",top:parseInt(n.height()/2,0)+60+"px",display:"none",opacity:"0.0"})}}n.hover(function(){var n=e(this);var r=n.find(".normal-thumbnail-yoyo");var i=n.find(".hover-more-sign");var s=n.find(".hover-blog-link-sign");var o=n.find(".caption");if(o.data("top")==t)o.data("top",parseInt(o.css("top"),0));clearTimeout(n.data("plusanim"));clearTimeout(n.data("capanim"));clearTimeout(n.data("bwpanim"));clearTimeout(e("body").find(".theBigThemePunchGallery").data("bwanim"));n.data("plusanim",setTimeout(function(){i.css({display:"block"});i.cssAnimate({top:parseInt(n.height()/2,0)-25+"px",opacity:"1.0"},{duration:300,queue:false});s.css({display:"block"});setTimeout(function(){s.cssAnimate({top:parseInt(n.height()/2,0)-25+"px",opacity:"1.0"},{duration:300,queue:false})},100)},10));n.data("capanim",setTimeout(function(){o.data("opa",o.css("opacity"));o.cssAnimate({top:o.data("top")-60+"px",opacity:"0.0"},{duration:200,queue:false})},100));e("body").find(".theBigThemePunchGallery").data("bwanim",setTimeout(function(){e("body").find(".theBigThemePunchGallery").each(function(){var t=e(this);t.find(".normal-thumbnail-yoyo").cssAnimate({opacity:"0.0"},{duration:200})})},100));n.data("bwanim",setTimeout(function(){r.cssAnimate({opacity:"1.0"},{duration:200,queue:false})},210))},function(){var n=e(this);var r=n.find(".normal-thumbnail-yoyo");var i=n.find(".hover-more-sign");var s=n.find(".hover-blog-link-sign");var o=n.find(".caption");if(o.data("top")==t)o.data("top",parseInt(o.css("top"),0));clearTimeout(n.data("plusanim"));clearTimeout(n.data("capanim"));clearTimeout(n.data("bwanim"));clearTimeout(e("body").find(".theBigThemePunchGallery").data("bwanim"));n.data("plusanim",setTimeout(function(){i.css({display:"block"});i.cssAnimate({top:parseInt(n.height()/2,0)+60+"px",opacity:"0.0"},{duration:300,queue:false});s.css({display:"block"});setTimeout(function(){s.cssAnimate({top:parseInt(n.height()/2,0)+60+"px",opacity:"0.0"},{duration:300,queue:false})},100)},10));n.data("capanim",setTimeout(function(){o.cssAnimate({top:o.data("top")+"px",opacity:o.data("opa")},{duration:200,queue:false})},100));e("body").find(".theBigThemePunchGallery").data("bwanim",setTimeout(function(){e("body").find(".theBigThemePunchGallery").each(function(){var t=e(this);t.find(".normal-thumbnail-yoyo").cssAnimate({opacity:"1.0"},{duration:200})})},100));n.data("bwanim",setTimeout(function(){r.cssAnimate({opacity:"1.0"},{duration:200,queue:false})},100))})}function o(e,t){e.tplightbox({title:".entry-title",description:".entry-description",image:".media",style:"dark-lightbox",pageOfFormat:t.pageOfFormat,showGoogle:t.showGoogle,showFB:t.showFB,showEmail:t.showEmail,emailLinkText:t.emailLinkText,emailBody:t.emailBody,emailUrlCustomPrefix:t.emailUrlCustomPrefix,emailUrlCustomSuffix:t.emailUrlCustomSuffix,showTwitter:t.showTwitter,urlDivider:t.urlDivider,filterList:t.filterList})}function u(t,n,r,a){t.find(">div").remove();if(!t.hasClass("theBigThemePunchGallery"))t.addClass("theBigThemePunchGallery");for(var f=0;f<n.length;f++){if(f>=(r-1)*a.entryProPage&&f<a.entryProPage*r){var l=n[f];t.append(l);l.css({opacity:"0",left:"0px",top:"0px"});l.data("EntryNr",f+1);i(l.find(".thumbnails"));if(l.find(".entry-info").length>0||l.find(".blog-link").length>0)s(l);if(l.find(".entry-info").length>0){o(l,a)}}}p(t,true);var c=Math.ceil(n.length/a.entryProPage);t.parent().find("#pagination").remove();if(c>1){var h=a.pageOfFormat;h=h.replace("#n",r);h=h.replace("#m",c);t.parent().append('<div style="" class="pagination" id="pagination"><div class="pageofformat">'+h+"</div></div>");var d=t.parent().find("#pagination");for(var v=0;v<c;v++){d.append('<div id="pagebutton'+v+'"class="pages buttonlight">'+(v+1)+"</div>");var m=d.find("#pagebutton"+v);if(v+1==r)m.addClass("buttonlight-selected");m.data("pageNr",v+1);m.data("entryProPage",a.entryProPage);m.data("list",n);m.click(function(){var n=e(this);u(t,n.data("list"),n.data("pageNr"),a)})}}else{t.parent().append('<div style="display:none" class="pagination" id="pagination"><div class="pageofformat">'+h+"</div></div>");var d=t.parent().find("#pagination");d.append('<div style="display:none" id="pagebutton" class="pages buttonlight"></div>');var m=d.find("#pagebutton");m.addClass("buttonlight-selected");m.data("pageNr",1);m.data("entryProPage",a.entryProPage);m.data("list",n)}}function a(n,r){n.find(".caption").each(function(){var i=e(this);var s=i.parent().width();var o=parseInt(i.css("paddingLeft"),0)+parseInt(i.css("paddingRight"),0);var u=parseInt(i.css("paddingTop"),0)+parseInt(i.css("paddingBottom"),0);s=s-o;if(i.width()>s-20){i.css({position:"absolute",left:"10px",width:s-20+"px"})}else{i.css({left:s/2-i.width()/2+"px"})}var a=i.parent().height();a=a-u;i.data("opa",parseInt(n.data("captionOpacity"),0)/100);var f=0;if(r.captionYOffset!=t)f=r.captionYOffset;if(r.captionPosition=="top")i.css({opacity:i.data("opa"),top:0+f+"px"});else if(r.captionPosition=="bottom")i.css({opacity:i.data("opa"),top:a-i.height()+f+"px"});else i.css({opacity:i.data("opa"),top:f+a/2-i.height()/2+"px"});i.css({visibility:"visible"})})}function f(t){e(window).bind("resize",function(){if(t.data("windowWidth")!=e(window).width()){p(t,false);t.data("windowWidth",e(window).width());}})}function l(e,t,n){var r=e.length;e[r]={left:t,top:n}}function c(e,t,n){for(var r=0;r<e.length;r++){if(e[r].left===t&&e[r].top===n){return true}}return false}function h(t,n,r,i,s,o,u){t.css({width:i+"px",height:s+"px",position:"absolute"});t.stop();if(u){t.cssAnimate({left:n+"px",opacity:0,top:r+20+"px"},{duration:1,queue:false});if(e.browser.msie&&e.browser.version<9){t.css({visibility:"hidden"})}}setTimeout(function(){t.css({visibility:"visible"});t.cssAnimate({opacity:1,left:n+"px",top:r+"px"},{duration:350,queue:false})},100+o*50);if(t.parent().parent().data("ymax")<r+s)t.parent().parent().data("ymax",r+s)}function p(t,n){var r=t.data("cellWidth");var i=t.data("cellHeight");var s=t.data("padding");var o=t.data("gridOffset");var u=t.data("maxRow");var a=0;var f=0;var p=1;var d=0;var v=0;var m=[];t.each(function(){var o=e(this);var u=false;var g=o.width()-parseInt(t.data("gridOffset"),0);var b=Math.floor(g/r);o.css("position","relative");var w=o.children("div");o.parent().data("ymax",0);for(var E=0;E<w.length;E++){if(w.eq(E).hasClass("cell2x2")){if(d===b-1){d=0;v++;a=0;f+=i+s;p++}if(b>1&&(c(m,d,v)||c(m,d+1,v)||c(m,d+1,v+1)||c(m,d,v+1))){E--}else{h(w.eq(E),a,f,r*2+s,i*2+s,E,n);l(m,d,v);l(m,d+1,v);l(m,d,v+1);l(m,d+1,v+1)}u=true}else if(w.eq(E).hasClass("cell2x1")){if(c(m,d,v)||c(m,d+1,v)||b>1&&d===b-1){E--}else{h(w.eq(E),a,f,r*2+s,i,E,n);l(m,d+1,v)}}else if(w.eq(E).hasClass("cell1x2")){if(c(m,d,v)||c(m,d,v+1)){E--}else{h(w.eq(E),a,f,r,i*2+s,E,n);l(m,d,v);l(m,d,v+1)}u=true}else{if(c(m,d,v)){E--}else{h(w.eq(E),a,f,r,i,E,n)}}if(p%b===0){d=0;v++;a=0;f+=i+s;u=false}else{a+=r+s;d++}p++}var S=0;if(p%b!==1){S=f+i+s}else{S=f+s}if(u){S+=i+s}e(this).parent().css("height",o.parent().data("ymax")+"px");a=0;f=0;p=1;var T=0;for(E=0;E<w.length;E++){}})}e.fn.extend({tpbackground:function(t){function r(t,n,s){var o=null;if(s!=null){t.find("div").each(function(){var t=e(this);if(t.data("category")==s)o=t})}else{if(t.find(".tp-bg-act-div-container").length==0){o=t.find("div:first")}else{if(t.find(".tp-bg-act-div-container").data("id")<t.find("div").length-1){o=t.find(".tp-bg-act-div-container").next()}else{o=t.find("div:first")}}}if(o!=null){if(!o.hasClass("tp-bg-act-div-container")&&o!=null){if(o.hasClass("fadein"))o.css({opacity:"0.0"});var u=o.data("src");if(o.hasClass("bg-tiled")){o.append('<div class="tp-bg-img-intern" style="width:'+e(window).width()+"px;height:"+e(window).height()+'px"><div style="width:100%;height:100%;background-image:url('+u+')"></div></div>')}else{o.append('<img class="tp-bg-img-intern" src="'+u+'">')}t.find(".tp-bg-act-div-container").addClass("to-kill-soon");t.find(".tp-bg-act-div-container").removeClass("tp-bg-act-div-container");o.addClass("tp-bg-act-div-container");o.waitForImages(function(){t.find(".to-kill-soon").animate({opacity:"0.0"},{duration:500,queue:false});t.find(".to-kill-soon").css({"z-index":"1"});setTimeout(function(){t.find(".to-kill-soon").unbind("resize scroll");t.find(".to-kill-soon .tp-bg-img-intern").remove();t.find(".to-kill-soon").removeClass("to-kill-soon")},520);if(n.slideshow>0)setTimeout(function(){r(t,n)},parseInt(n.slideshow,0));i(o)})}}}function i(t){e(window).bind("resize scroll",function(){s(t)});s(t);if(t.hasClass("fadein")){t.css({opacity:"0.0"});t.animate({opacity:"1.0"},{duration:500,queue:false})}}function s(t){var n=t.find(".tp-bg-img-intern");var r=n.width();var i=n.height();var s=i/r;var o=e(window).width()+30;var u=e(window).height();var a=u/o;var f=0;var l=0;var c=0;var h=0;if(a>s){h=u;c=u/s}else{c=o;h=o*s}if(a<s){l=u;f=u/s}else{f=o;l=o*s}if(t.hasClass("bg-fit-inside")){n.css({width:f,height:l})}else{if(t.hasClass("bg-fit-outside")){n.css({width:c,height:h})}else{if(t.hasClass("bg-stretch")){n.css({width:e(window).width(),height:e(window).height()})}else{if(t.hasClass("bg-tiled")){t.css({width:e(window).width()+30+"px",height:e(window).height()});n.css({width:e(window).width()+30+"px",height:e(window).height()})}}}}}var n={slideshow:0,cat:"",callback:"false"};t=e.extend({},e.fn.tpbackground.defaults,t);return this.each(function(){var n=t;var i=e(this);if(n.callback=="false"){i.find("div").each(function(t){var n=e(this);n.css({"z-index":"2",position:"fixed",margin:"0px",padding:"0px",left:"0px",top:"0px",width:"100%",height:"100%",overflow:"hidden"});n.data("id",t)});r(i,n)}else{r(i,n,n.cat)}})}});e.fn.extend({dropdown:function(t){function r(t){if(e.browser.msie&&e.browser.version<9){t.find("ul:first").css({margin:"0px"})}t.find("li").each(function(t){var n=e(this);n.wrapInner('<div class="listitem" style="position:relative;left:0px;"></div>');if(e.browser.msie&&e.browser.version<9){if(t==0)n.css({clear:"both","margin-top":"0px","padding-top":"0px"});n.css({display:"none",opacity:"0.0","vertical-align":"bottom",top:"-20px"});if(e.browser.msie&&e.browser.version<8){n.css({width:n.parent().parent().find(".buttonlight").width()})}}else{n.css({display:"none",opacity:"0.0",top:"-20px"})}});t.hover(function(){var t=e(this);clearTimeout(t.data("timeout"));var t=e(this);t.parent().find("li").each(function(t){var n=e(this);n.css({display:"block"});clearTimeout(n.data("lianim"));if(e.browser.msie&&e.browser.version<9){setTimeout(function(){n.cssAnimate({top:"0px",opacity:"1.0"},{duration:10})},t+1*2)}else{setTimeout(function(){n.cssAnimate({top:"0px",opacity:"1.0"},{duration:300})},t+1*80)}})},function(){var t=e(this);clearTimeout(t.data("timeout"));t.data("timeout",setTimeout(function(){t.find("li").each(function(t){var n=e(this);if(e.browser.msie&&e.browser.version<9){n.cssAnimate({top:"-20px",opacity:"0.0"},{duration:0});n.data("lianim",setTimeout(function(){n.css({display:"none"})},10))}else{n.cssAnimate({top:"-20px",opacity:"0.0"},{duration:300});n.data("lianim",setTimeout(function(){n.css({display:"none"})},400))}})},300))})}var n={};t=e.extend({},e.fn.dropdown.defaults,t);return this.each(function(){var n=t;var i=e(this);r(i)})}});e.fn.extend({tplightbox:function(n){function i(){var e=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i);return e}function s(){var e=navigator.userAgent.match(/iPad/i);return e}function o(n,r,i){var s=n.find(r.image).data("src");var u=n.find(r.image).data("typ");e("body").append('<div id="tp-lightboxactitem" class="'+r.style+' lightboxitem"></div>');var c=e("body").find("#tp-lightboxactitem");if(u=="video"){var h=n.find(r.image).data("width");var p=n.find(r.image).data("height");var d="flv-"+Math.floor(Math.random()*999999);c.append('<div class="tp-mainimage" id="'+d+'" style="width:'+h+"px;height:"+p+'px">'+s+"</div>");if(n.find(r.image).data("flv")===true){var v=c.find("#"+d+" a");d=v.attr("id");v.addClass("flvvideo");flowplayer(d,n.find(r.image).data("flvplayer"),{clip:{autoPlay:false,autoBuffering:true}})}}else{c.append('<div><img class="tp-mainimage" src="'+s+'"></div>')}c.css({display:"none"});c.append('<div class="'+r.style+' infofield"></div>');var m=c.find(".infofield");m.append('<div class="'+r.style+' title">'+n.find(r.title).html()+"</div>");var g=0;var y=e("body").find("#tp-lightboxloader");var b=e("body").find(".buttonlight-selected");if(y.data("list")==t){var w=[];b.each(function(){var t=e(this);for(var n=0;n<t.data("list").length;n++)w.push(t.data("list")[n])});y.data("list",w)}var E=r.pageOfFormat;var S=n.data("EntryNr");var x=Math.floor((S-1)/b.data("entryProPage"));if(x+1!=b.data("pageNr"))e("body").find("#pagebutton"+x).click();c.data("EntryNr",S);c.data("MaxEntry",y.data("list").length);c.data("opt",r);E="( "+S+" / "+y.data("list").length+" )";m.append('<div class="'+r.style+' pageofformat">'+E+"</div>");m.append('<div class="'+r.style+' description">'+n.find(r.description).html()+"</div>");var T=e("body").find(r.filterList).find(".selected-filter-item").data("filterid");var N=document.URL+r.urlDivider+"filter="+T+"_id="+S;var C=e('<div class="twitter"><div class="social_tab"><a href="http://twitter.com/share" class="twitter-share-button" data-url="'+N+'" data-count="horizontal">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div></div>');var k=e('<div class="facebook"><div class="social_tab"><iframe src="//www.facebook.com/plugins/like.php?href='+N+'&send=false&layout=button_count&width=250&show_faces=false&action=like&colorscheme=light&font=arial&height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:250px; height:21px;" allowTransparency="true"></iframe></div></div>');var L=e('<div class="googleplus"><!-- +1 Button from plus.google.com --><div class="social_tab"><script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script><g:plusone size="medium" href="'+N+'"></g:plusone></div></div>');m.append('<div class="'+r.style+' lightboxsocials"></div>');var A=m.find(".lightboxsocials");A.css({opacity:"0.0"});A.data("opt",r);if(r.showTwitter=="yes"){A.data("twit",C);A.append('<div class="twitter fakesoc"></div>')}if(r.showFB=="yes"){A.data("face",k);A.append('<div class="twitter fakesoc"></div>')}if(r.showGoogle=="yes"){A.data("gplus",L);A.append('<div class="twitter fakesoc"></div>')}c.append('<div class="'+r.style+' leftbutton"></div>');c.append('<div class="'+r.style+' rightbutton"></div>');c.append('<div class="'+r.style+' closebutton"></div>');var O=c.find(".closebutton");var M=c.find(".leftbutton");var _=c.find(".rightbutton");O.css({opacity:"0.0"});O.click(function(){a()});M.click(function(){var t=e(this).parent();var n=t.data("EntryNr");var r=t.data("MaxEntry");var i=t.data("opt");if(n>1){var s=e("body").find(".buttonlight-selected").data("list")[n-2].clone();s.data("EntryNr",n-1)}else{s=e("body").find(".buttonlight-selected").data("list")[r-1].clone();s.data("EntryNr",r)}e("body").append(s);s.attr("id","notimportant");l(2);o(s,i,2)});_.click(function(){var t=e(this).parent();var n=t.data("EntryNr");var r=t.data("MaxEntry");var i=t.data("opt");if(n<r){var s=e("body").find(".buttonlight-selected").data("list")[n].clone();s.data("EntryNr",n+1)}else{s=e("body").find(".buttonlight-selected").data("list")[0].clone();s.data("EntryNr",1)}e("body").append(s);s.attr("id","notimportant");l(1);o(s,i,1)});c.swipe({data:c,swipeLeft:function(){var t=e("body").find("#tp-lightboxactitem");t.find(".rightbutton").click()},swipeRight:function(){var t=e("body").find("#tp-lightboxactitem");t.find(".leftbutton").click()},excludedElements:".hover-more-sign, .hover-blog-link-sign .thumbnails, .closebutton",allowPageScroll:"auto"});c.waitForImages(function(){if(i!=1&&i!=2)i=1;f(i);c.addClass("tp-lightboxactitem-loaded")});e("body").find("#notimportant").remove()}function u(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n))return;r=e.createElement(t);r.id=n;r.src="//connect.facebook.net/de_DE/all.js#xfbml=1";i.parentNode.insertBefore(r,i)}function a(){l(1);setTimeout(function(){e("body").find("#tp-lightboxoverlay").cssAnimate({opacity:"0.0"},{duration:400,queue:false});e("body").find("#tp-lightboxloader").cssAnimate({opacity:"0.0"},{duration:400,queue:false})},200);setTimeout(function(){e("body").find("#tp-lightboxoverlay").remove();e("body").find("#tp-lightboxloader").remove();e("body").find("#tp-lightboxactitem").remove()},600)}function f(t){var n=e("body").find("#tp-lightboxactitem");var r=e("body").find("#tp-lightboxloader");var i=n.find(".leftbutton");var s=n.find(".rightbutton");var o=n.find(".lightboxsocials");var u=n.find(".infofield");var a=n.find(".tp-mainimage");clearTimeout(r.data("anim"));r.cssAnimate({top:e(window).height()/2-60+"px",opacity:"0.0"},{duration:200,queue:false});n.css({top:"0px",left:60+e(window).width()+"px",display:"block"});setTimeout(function(){var e=o.data("opt");if(e.showTwitter=="yes")o.append(o.data("twit"));if(e.showFB=="yes"){o.append(o.data("face"))}if(e.showGoogle=="yes")o.append(o.data("gplus"));o.find(".fakesoc").remove();o.css({display:"block",opacity:"0.0"});setTimeout(function(){o.cssAnimate({opacity:"1.0"},{duration:400,queue:false})},500)},700);var f=a.width();var l=a.width();var c=a.height();if(f==0){l=320;f=320}if(c==0)c=200;var h=u.outerHeight();n.css({width:f+"px"});var p=c+h;var d=e(window).width()-40;var v=e(window).height()-40;if(t==2)n.css({left:-30-f+"px",top:"0px"});i.css({left:"0px",top:c+"px"});s.css({right:"0px",top:c+"px"});n.css({top:e(window).height()/2-p/2+"px"});if(f>d){var m=d/f;f=d;c=m*c;a.width(f);a.height(c);c=a.height();h=u.outerHeight();n.css({width:f+"px"});p=c+h;i.css({left:"0px",top:c+"px"});s.css({right:"0px",top:c+"px"});n.css({top:e(window).height()/2-p/2+"px"});if(n.find("iframe").length>0){n.find("iframe").css({width:f+"px",height:c+"px"})}}if(p>v){var m=v/p;l=m*l;c=m*c;a.width(l);a.height(c);if(l>300)f=l;c=a.height();h=u.outerHeight();n.css({width:f+"px"});p=c+h;i.css({left:"0px",top:c+"px"});s.css({right:"0px",top:c+"px"});n.css({top:e(window).height()/2-p/2+"px"});if(n.find("iframe").length>0){n.find("iframe").css({width:l+"px",height:c+"px"})}}setTimeout(function(){var t=n.height();n.css({top:e(window).height()/2-t/2+"px"});n.cssAnimate({left:e(window).width()/2-f/2+"px",top:e(window).height()/2-t/2+"px"},{duration:300,queue:false});n.hover(function(){var t=e(this);t.find(".closebutton").cssAnimate({opacity:"1.0"},{duration:100,queue:false})},function(){var t=e(this);t.find(".closebutton").cssAnimate({opacity:"0.0"},{duration:100,queue:false})})},200)}function l(t){var n=e("body").find("#tp-lightboxactitem");var r=e("body").find("#tp-lightboxloader");var i=n.find(".leftbutton");var s=n.find(".rightbutton");try{n.find(".flvvideo").unload();n.find(".flvvideo").remove()}catch(o){}n.attr("id","tp-lightbox-OLD-item");var u=n.find(".tp-mainimage").width();r.data("anim",setTimeout(function(){r.cssAnimate({top:e(window).height()/2+"px",opacity:"1.0"},{duration:200,queue:false})},400));if(t==1)setTimeout(function(){n.cssAnimate({left:-50-u+"px"},{duration:300,queue:false})},150);else setTimeout(function(){n.cssAnimate({left:50+e(window).width()+"px"},{duration:300,queue:false})},150);setTimeout(function(){n.remove()},450)}function c(t,n){e("body").append('<div id="tp-lightboxoverlay" class="'+n.style+' overlay"></div>');var r=e("body").find("#tp-lightboxoverlay");var u=r.css("opacity");var f=0;if(i()||s())f=jQuery(window).scrollTop();r.css({width:e(window).width()+"px",height:e(window).height()+150+"px",opacity:"0.4",top:"0px",left:"0px"});r.cssAnimate({opacity:u},{duration:500,queue:false});e("body").append('<div id="tp-lightboxloader" class="'+n.style+' loader"></div>');var l=e("body").find("#tp-lightboxloader");l.css({top:f+e(window).height()/2+"px",left:e(window).width()/2+"px"});o(t,n);r.click(function(){a()});e(window).bind("resize scroll",h)}function h(t){var n=e(window);var r=e("body").find("#tp-lightboxoverlay");var o=0;if(i()||s())o=jQuery(window).scrollTop();r.css({width:n.width()+"px",height:n.height()+150+"px",top:o+"px"});var u=e("body").find("#tp-lightboxloader");u.cssAnimate({top:o+e(window).height()/2+"px",left:e(window).width()/2+"px"},{duration:200,queue:false});var a=e("body").find(".tp-lightboxactitem-loaded").width();var f=e("body").find(".tp-lightboxactitem-loaded").height();e("body").find(".tp-lightboxactitem-loaded").cssAnimate({left:e(window).width()/2-a/2+"px",top:e(window).height()/2-f/2+"px"},{duration:300,queue:false})}function p(){var e;if(self.pageYOffset){e=self.pageYOffset}else if(document.documentElement&&document.documentElement.scrollTop){e=document.documentElement.scrollTop}else if(document.body){e=document.body.scrollTop}return e}var r={title:".entry-title",description:".entry-description",image:".image",style:"dark-lightbox",pageOfFormat:"Page #n of #m:",howGoogle:"yes",showFB:"yes",showTwitter:"yes",urlDivider:"?"};n=e.extend({},e.fn.tplightbox.defaults,n);return this.each(function(){var t=n;var r=e(this);r.find(".hover-more-sign").click(function(){c(r,t)})})}});e.fn.extend({portfolio:function(t){var n={gridOffset:0,cellWidth:176,cellHeight:176,cellPadding:10,gridOffset:0,captionOpacity:75,entryProPage:20,filterList:"#portfolio-filter",pageOfFormat:"#n of #m",title:"#selected-filter-title",showGoogle:"yes",showFB:"yes",showTwitter:"yes",urlDivider:"?",backgroundHolder:"#main-background",backgroundSlideshow:0};t=e.extend({},e.fn.portfolio.defaults,t);return this.each(function(){var n=e(this);var i=t;n.data("cellWidth",i.cellWidth);n.data("cellHeight",i.cellHeight);n.data("padding",i.cellPadding);n.data("gridOffset",i.gridOffset);n.data("gridOffset",i.gridOffset);n.data("captionOpacity",i.captionOpacity);p(n);f(n);a(n,i);e("body").find(i.filterList).dropdown({});r(n,i);e("body").find(i.backgroundHolder).tpbackground({slideshow:i.backgroundSlideshow,callback:"false",cat:""});n.swipe({data:n,swipeLeft:function(){var t=parseInt(e("body").find(".buttonlight-selected").data("pageNr"),0);var n=e("body").find("#pagination .buttonlight").length;if(t<n)e("body").find("#pagebutton"+t).click();else e("body").find("#pagebutton0").click()},swipeRight:function(){var t=parseInt(e("body").find(".buttonlight-selected").data("pageNr"),0);var n=e("body").find("#pagination .buttonlight").length;if(t>1)e("body").find("#pagebutton"+(t-2)).click();else e("body").find("#pagebutton"+(n-1)).click()},excludedElements:".hover-more-sign, .hover-blog-link-sign .thumbnails, .closebutton",allowPageScroll:"auto"})})}})})(jQuery)




